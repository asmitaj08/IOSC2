<html>
<head>
<meta http-equiv="Content-Type" content="text/html;">
<title>TRENDNET | modelName | Main | IPv6</title>
<link rel="stylesheet" href="style.css" type="text/css">
<script language="JavaScript" src="uk.js"></script>

<script language="JavaScript" src="public_js/public.js"></script>
<script language="JavaScript" src="public_js/public_ipv6.js"></script>
<script language="JavaScript" src="public_js/public_msg.js"></script>
<script language="Javascript" src="js/jquery-1.3.2.min.js"></script>
<script language="Javascript" src="js/xml.js"></script>
<script language="Javascript" src="js/object.js"></script>
<script language="JavaScript">
	var dev_info = get_router_info();

	var hw_version 	= dev_info.hw_ver;
	var version 	= dev_info.fw_ver;
	var model		= dev_info.model;
	var login_Info 	= dev_info.login_info;
	var cli_mac 	= dev_info.cli_mac;

	var param = {
		url: "get_set.ccp",
		arg: ""
	};

	param.arg = "ccp_act=get&num_inst=8";
	param.arg +="&oid_1=IGD_&inst_1=10000";
	param.arg +="&oid_2=IGD_Status_WANStatus_&inst_2=11100";
	param.arg +="&oid_3=IGD_Status_IPv6Status_&inst_3=11100";
	param.arg +="&oid_4=IGD_WANDevice_i_WANIPv6ConnectionDevice_i_AutoConfiguration_i_&inst_4=11110";
	param.arg +="&oid_5=IGD_WANDevice_i_WANIPv6ConnectionDevice_i_6RD_i_&inst_5=11110";
	param.arg +="&oid_6=IGD_WANDevice_i_WANIPv6ConnectionDevice_i_&inst_6=11100";
	param.arg +="&oid_7=IGD_LANDevice_i_IPv6ConfigManagement_&inst_7=11100";
	param.arg +="&oid_8=IGD_Status_LANStatus_&inst_8=11100";
	get_config_obj(param);
	
	//WAN Connection type
	var wan_addr4 = config_val("igdWanStatus_IPAddress_");
	var wan_type = config_val("igdWanStatus_WanProto_");
	var wan_mac = config_val("igdWanStatus_MACAddress_");
	var lan_mac = config_val("igdLanStatus_MACAddress_");

	//IPv6 connection type
	var ipv6_type = config_val("wanIPv6ConnDev_CurrentConnObjType_");
	
	//6rd settings
	var config_type = config_val("ipv66rdConn_ConfigurationType_");
	var ipv4_Addr = config_val("ipv66rdConn_IPv4Adress_");
	var assigned_ipv6_prefix = config_val("ipv66rdConn_TunnelLinkLocalPrefix_");
	var tunnel_linklocal_addr = config_val("ipv66rdConn_TunnelLinkLocalAddress_");
	var tunnel_relay_type = config_val("ipv66rdConn_TunnalRelayType_");
	
    function send_request()
	{    	
		var ula_enable;
		var primary_dns = get_by_id("ipv6_6rd_primary_dns").value;
		var v6_primary_dns_msg = replace_msg(all_ipv6_addr_msg,"Primary DNS Address");
		var secondary_dns = get_by_id("ipv6_6rd_secondary_dns").value;
		var v6_secondary_dns_msg = replace_msg(all_ipv6_addr_msg,"Secondary DNS Address");
		var v6_6rd_relay = get_by_id("ipv6_6rd_relay").value;
		var ipv6_addr_msg = replace_msg(all_ip_addr_msg,"IP Address");
		var v6_6rd_relay_obj = new addr_obj(v6_6rd_relay.split("."), ipv6_addr_msg, false, false);
		var v6_6rd_addr;
		var temp_v6_6rd_addr;
		var temp_v6_type = get_by_name("ipv6_automatic");
		if(temp_v6_type[1].checked)
		{
			var ipv6_6rd_dhcp = get_by_name("ipv6_6rd_dhcp");
			if (!ipv6_6rd_dhcp[0].checked){
				if (ipv6_6rd_dhcp[1].checked){
					if(wan_type != "1"){
						alert('Please change IPv4 wan protocol to DHCP mode first.');
						return false;
					}
				}
				else if(ipv6_6rd_dhcp[2].checked){
				//	if (!check_ipv6_relay_address(v6_6rd_relay_obj)){
				//		return false;
				//	}
					if (get_by_id("ipv6_6rd_assigned_prefix").innerHTML=="None"){
						alert(get_words("_6rdIPv6Prefix")+" "+get_words("li_msg144"));
						return false;
					}
					if (trim(v6_6rd_relay)==""){
						alert("6rd Relay can not be empty.");
						return false;
					}
				//	if (!check_ipv6_relay_address(v6_6rd_relay_obj)){
				//		return false;
				//	}
					if(Find_word(v6_6rd_relay,":")){
						alert(get_words(LS46));
						return false;
					}
					if(is_ipv4_valid(v6_6rd_relay))
						tunnel_relay_type = 0;
					else
						tunnel_relay_type = 1;
					 
				}
				//get_by_id("ipv6_wan_proto").value = get_by_id("ipv6_w_proto").value;
				 
				if (primary_dns != ""){
					if(primary_dns != "0:0:0:0:0:0:0:0"){
						if(check_ipv6_symbol(primary_dns,"::")==2){ 
							return false;
						}
						else if(check_ipv6_symbol(primary_dns,"::")==1){ 
							temp_ipv6_primary_dns = new ipv6_addr_obj(primary_dns.split("::"), v6_primary_dns_msg, false, false);
							if (!check_ipv6_address(temp_ipv6_primary_dns ,"::")){
								return false;
						} 
						}
						else{
							temp_ipv6_primary_dns = new ipv6_addr_obj(primary_dns.split(":"), v6_primary_dns_msg, false, false);
							if (!check_ipv6_address(temp_ipv6_primary_dns,":")){
								return false;
							}
						}
					}
				}
				if (secondary_dns != ""){
					if(secondary_dns != "0:0:0:0:0:0:0:0"){
						if(check_ipv6_symbol(secondary_dns,"::")==2){ 
							return false;
						}else if(check_ipv6_symbol(secondary_dns,"::")==1){ 
							temp_ipv6_secondary_dns = new ipv6_addr_obj(secondary_dns.split("::"), v6_secondary_dns_msg, false, false);
							if (!check_ipv6_address(temp_ipv6_secondary_dns ,"::")){
								return false;
							}	
						}else{	
							temp_ipv6_secondary_dns = new ipv6_addr_obj(secondary_dns.split(":"), v6_secondary_dns_msg, false, false);
							if (!check_ipv6_address(temp_ipv6_secondary_dns,":")){
								return false;
							}
						}	
					}
				}	
			}
		}
		//send_submit("form1");
		copyDataToDataModelFormat();
		send_submit("form2");
	}
	
	String.prototype.lpad = function(padString, length) {
	var str = this;
	while (str.length < length)
	str = padString + str;
	return str;
	}
	
	function trim(stringToTrim) {
		return stringToTrim.replace(/^\s+|\s+$/g,"");
	}
	
	function ipv6_6rd_prefix_onchange() {
		//alert("ipv6_6rd_prefix_onchange");
		var pf = get_by_id("ipv6_6rd_prefix").value;
		var pf_len = get_by_id("ipv6_6rd_prefix_length").value;
		var v4_masklen = get_by_id("ipv6_6rd_ipv4_mask_length").value;
		var v4_uselen;

		var eui64;
		var ary_ip4 = wan_addr4.split(".");
		var u32_ip4 = (ary_ip4[0]*Math.pow(2,24)) + (ary_ip4[1]*Math.pow(2,16)) + (ary_ip4[2]*Math.pow(2,8)) + parseInt(ary_ip4[3]);
		//pf = "2014:b:c::";
		var ary_pf = get_stateful_ipv6(pf).split(":");
		var u32_pf = [0,0];
		var mask_len;
		var ary_ip6rd_pf = [0,0,0,0];
		var str_tmp;
		var IsValid = true;
		var ipv6_6rd_dhcp = get_by_name("ipv6_6rd_dhcp");
		 
		if (IsValid) {
			if ( (pf_len-0)==pf_len && pf_len.length>0 ) {
				pf_len = parseInt(pf_len);
				if (pf_len<1 || pf_len>63)
					IsValid = false;
			} 
			else
				IsValid = false;
		}
		if (pf_len <= 32) {
			get_by_id("ipv6_6rd_ipv4_mask_length").disabled = true;
			get_by_id("ipv6_6rd_ipv4_mask_length").value = "0";
		} 
		else {
			if(ipv6_6rd_dhcp[0].checked)
				get_by_id("ipv6_6rd_ipv4_mask_length").disabled = true;
			else
				get_by_id("ipv6_6rd_ipv4_mask_length").disabled = false;
		}
		 
		if (IsValid && pf_len >32) {
			if ( (v4_masklen-0)==v4_masklen && v4_masklen.length>0 ) {
				v4_masklen = parseInt(v4_masklen);
				v4_uselen = 32 - v4_masklen;
				if (v4_masklen<1 || v4_masklen>31 || v4_uselen+pf_len > 64)
					IsValid = false;
			} 
			else
				IsValid = false;
		}
	 
		var c;
		var tmp_ary_pf = pf.split("::");
		if (IsValid && pf=="")
		IsValid = false;
		 
		if (IsValid && ((tmp_ary_pf.length>1 && tmp_ary_pf[1]==":") || tmp_ary_pf.length>2))
			IsValid = false;
		if (IsValid) 
		{
			for (var idx=0; idx < ary_pf.length; idx++) {
				if (idx>0 && ary_pf[idx]=="")
					ary_pf[idx] = "0";
				if (ary_pf[idx].length>=1 && ary_pf[idx].length<=4) 
				{
					for(var pos=0; pos < ary_pf[idx].length; pos++) 
					{
						if( !check_hex(ary_pf[idx].charAt(pos)))
							IsValid = false;
					}
				} 
				else 
				{
					IsValid = false;
					break;
				}
			}
			if (ary_pf.length<2) ary_pf[1] = "0";
			if (ary_pf.length<3) ary_pf[2] = "0";
			if (ary_pf.length<4) ary_pf[3] = "0";
		}
		if (!IsValid) {
			get_by_id("ipv6_6rd_assigned_prefix").innerHTML = "None";
			get_by_id("lan_ipv6_ip_lan_ip").innerHTML = "None";
			return;
		}
		if (ary_pf.length >=1 ) {
			u32_pf[0] = parseInt( ary_pf[0].lpad("0",4) + ary_pf[1].lpad("0",4), 16);
			if (pf_len == 32) {
				u32_pf[1] = parseInt(u32_ip4);
			} 
			else if (pf_len < 32) {
				mask_len = (32-pf_len);
				u32_pf[0] = (u32_pf[0] >>> mask_len) * Math.pow(2,mask_len);
				u32_pf[0] = parseInt(u32_pf[0]) + (u32_ip4 >>> pf_len);
				u32_pf[1] = (u32_ip4 - ((u32_ip4 >>> pf_len) * Math.pow(2,pf_len))) * Math.pow(2,mask_len);
			} 
			else
			{
				u32_pf[1] = parseInt( ary_pf[2].lpad("0",4) + ary_pf[3].lpad("0",4), 16);
				mask_len = (64-pf_len);
				u32_pf[1] = (u32_pf[1] >>> mask_len) * Math.pow(2,mask_len);
				u32_ip4 = u32_ip4 % (1*Math.pow(2,v4_uselen));
				u32_pf[1] = parseInt(u32_pf[1]) + (u32_ip4*Math.pow(2,64-pf_len-v4_uselen));
			}
		}
		if (pf_len <= 32) {
			eui64 = generate_eui64(lan_mac);
			str_tmp = u32_pf[0].toString(16).lpad("0",8);
			ary_ip6rd_pf[0] = str_tmp.substr(0,4);
			ary_ip6rd_pf[1] = str_tmp.substr(4,4);
			str_tmp = u32_pf[1].toString(16).lpad("0",8);
			ary_ip6rd_pf[2] = str_tmp.substr(0,4);
			ary_ip6rd_pf[3] = str_tmp.substr(4,4);
			get_by_id("ipv6_6rd_assigned_prefix").innerHTML = 
			(ary_ip6rd_pf[0]+":"+ary_ip6rd_pf[1]+":"+ary_ip6rd_pf[2]+":"+ary_ip6rd_pf[3]).toUpperCase()+"::/"+(pf_len + 32);
			str_tmp = ary_ip6rd_pf[0]+":"+ary_ip6rd_pf[1]+":"+ary_ip6rd_pf[2]+":"+ary_ip6rd_pf[3]+":"+eui64;
			get_by_id("lan_ipv6_ip_lan_ip").innerHTML = str_tmp.toUpperCase() + "/64";
		} 
		else {
			eui64 = generate_eui64(lan_mac);
			str_tmp = u32_pf[0].toString(16).lpad("0",8);
			ary_ip6rd_pf[0] = str_tmp.substr(0,4);
			ary_ip6rd_pf[1] = str_tmp.substr(4,4);
			str_tmp = u32_pf[1].toString(16).lpad("0",8);
			ary_ip6rd_pf[2] = str_tmp.substr(0,4);
			ary_ip6rd_pf[3] = str_tmp.substr(4,4);
			get_by_id("ipv6_6rd_assigned_prefix").innerHTML = 
			(ary_ip6rd_pf[0]+":"+ary_ip6rd_pf[1]+":"+ary_ip6rd_pf[2]+":"+ary_ip6rd_pf[3]).toUpperCase()+"::/"+(pf_len + v4_uselen);
			str_tmp = ary_ip6rd_pf[0]+":"+ary_ip6rd_pf[1]+":"+ary_ip6rd_pf[2]+":"+ary_ip6rd_pf[3]+":"+eui64;
			get_by_id("lan_ipv6_ip_lan_ip").innerHTML = str_tmp.toUpperCase() + "/64";
		}
		//set_ipv6_autoconf_range();
	}
/*function trim(stringToTrim) {
return stringToTrim.replace(/^\s+|\s+$/g,"");
}*/	
	function generate_eui64(mac) {
		var ary_mac = mac.split(":");
		var u8_mac = new Array();
		var eui64 = new Array();
		for (i=0; i<6; i++) {
			u8_mac[i] = parseInt(ary_mac[i],16);
		}
		eui64[0] = u8_mac[0] ^ 0x02;
		eui64[1] = u8_mac[1]
		eui64[2] = u8_mac[2]
		eui64[3] = 0xff;
		eui64[4] = 0xfe;
		eui64[5] = u8_mac[3];
		eui64[6] = u8_mac[4];
		eui64[7] = u8_mac[5];
		return parseInt(eui64[0].toString(16) + eui64[1].toString(16).lpad("0",2), 16).toString(16) + ":" +
		parseInt(eui64[2].toString(16) + eui64[3].toString(16).lpad("0",2), 16).toString(16) + ":" +
		parseInt(eui64[4].toString(16) + eui64[5].toString(16).lpad("0",2), 16).toString(16) + ":" +
		parseInt(eui64[6].toString(16) + eui64[7].toString(16).lpad("0",2), 16).toString(16) ;
	}
	function ipv6_6rd_link_local()
	{
		var u32_pf;
		var ary_ip6rd_pf = [0,0];
		var tmp;
		var pf = get_by_id("ipv6_6rd_prefix").value;
		//pf = "2014:b:c::";
		var ary_ip4 = wan_addr4.split(".");
		var u32_ip4 = (ary_ip4[0]*Math.pow(2,24)) + (ary_ip4[1]*Math.pow(2,16)) + (ary_ip4[2]*Math.pow(2,8)) + parseInt(ary_ip4[3]);
		u32_pf = parseInt(u32_ip4);
		str_tmp = u32_pf.toString(16).lpad("0",8);
		ary_ip6rd_pf[0] = str_tmp.substr(0,4);
		ary_ip6rd_pf[1] = str_tmp.substr(4,4);
		//alert("FE80::"+ary_ip6rd_pf[0]+":"+ary_ip6rd_pf[1]+"/64");
		get_by_id("ipv6_6rd_addr").innerHTML = ("FE80::"+ary_ip6rd_pf[0]+":"+ary_ip6rd_pf[1]+"/64");//.toUpperCase();
	}
	function loadSettings(){

		
		get_by_id("wan_ip").innerHTML = wan_addr4; //ipv4_Addr;
		ipv6_6rd_link_local();
	

		get_by_id("ipv6_6rd_prefix").value = config_val("ipv66rdConn_IPv6Prefix_");
		get_by_id("ipv6_6rd_prefix_length").value = config_val("ipv66rdConn_IPv6PrefixLength_");
		get_by_id("ipv6_6rd_ipv4_mask_length").value = config_val("ipv66rdConn_IPMaskLength_");
		document.getElementById("ipv6_6rd_assigned_prefix").innerHTML= assigned_ipv6_prefix;

		
		if(tunnel_relay_type == "0")
			get_by_id("ipv6_6rd_relay").value = config_val("ipv66rdConn_Tunnel6rdRelayV4Address_");
		else
			get_by_id("ipv6_6rd_relay").value = config_val("ipv66rdConn_Tunnel6rdRelayV4Domain_");
		get_by_id("ipv6_6rd_primary_dns").value = config_val("ipv66rdConn_PrimaryDNSAddress_");
		get_by_id("ipv6_6rd_secondary_dns").value = config_val("ipv66rdConn_SecondaryDNSAddress_");

		
		if(ipv6_type == "2")
		{	
			set_checked(1, get_by_name("ipv6_automatic"));
			set_checked(config_type, get_by_name("ipv6_6rd_dhcp"));
		}
		else if(ipv6_type == "6")
		{	
			set_checked(0, get_by_name("ipv6_automatic"));
			set_checked(config_type, get_by_name("ipv6_6rd_dhcp"));
		}
		else
		{
			set_checked(2, get_by_name("ipv6_6rd_dhcp"));
			set_checked(0, get_by_name("ipv6_automatic"));
		}
			
		ipv6_automatic_enable();
		//ipv6_6rd_prefix_onchange();
		
	}
	
	function copyDataToDataModelFormat()
	{
		if(get_checked_value(get_by_name("ipv6_automatic")) == 1)
		 {
				get_by_id("wanIPv6ConnDev_CurrentConnObjType_1.1.1.0.0").value = "2";
				get_by_id("ipv6AutoConfConn_AutomaticDNSServer_1.1.1.1.0").value ="0" ;
				get_by_id("lanIPv6Cfg_DHCPPDEnable_1.1.1.0.0").value = "1";
				get_by_id("lanIPv6Cfg_AutoV6AddressAssignEnable_1.1.1.0.0").value = "1";
				get_by_id("lanIPv6Cfg_AutoConfigurationType_1.1.1.0.0").value = "1";
				get_by_id("igdULASetup_ULAEnable_1.1.0.0.0").value = "1";

		
		 }
		 else
		 {
			if(get_checked_value(get_by_name("ipv6_6rd_dhcp")) == 2)
			{
				get_by_id("wanIPv6ConnDev_CurrentConnObjType_1.1.1.0.0").value = "7";
				get_by_id("igdULASetup_ULAEnable_1.1.0.0.0").value = "0";
			}
			else
			{
				get_by_id("wanIPv6ConnDev_CurrentConnObjType_1.1.1.0.0").value = "6";
				get_by_id("igdULASetup_ULAEnable_1.1.0.0.0").value = "1";
				get_by_id("ipv66rdConn_ConfigurationType_1.1.1.1.0").value = get_checked_value(get_by_name("ipv6_6rd_dhcp"));
				if(get_by_name("ipv6_6rd_dhcp")[2].checked)
				{
					get_by_id("ipv66rdConn_IPv6Prefix_1.1.1.1.0").value = get_by_id("ipv6_6rd_prefix").value;
					get_by_id("ipv66rdConn_IPv6PrefixLength_1.1.1.1.0").value = get_by_id("ipv6_6rd_prefix_length").value;
					get_by_id("ipv66rdConn_IPMaskLength_1.1.1.1.0").value = get_by_id("ipv6_6rd_ipv4_mask_length").value;
					

					if(get_by_id("ipv6_6rd_assigned_prefix").innerHTML!="None")
					{
						var tmpprefix = get_by_id("ipv6_6rd_assigned_prefix").innerHTML;
						var assign_prefix = tmpprefix.split("/");
						get_by_id("ipv66rdConn_AssignedIPv6Prefix_1.1.1.1.0").value = assign_prefix[0];
						get_by_id("ipv66rdConn_TunnelLinkLocalPrefix_1.1.1.1.0").value = assign_prefix[1];
					}
					//alert(get_by_id("lan_ipv6_ip_lan_ip").innerHTML);
					if(get_by_id("lan_ipv6_ip_lan_ip").innerHTML!="None")
					{
						tmpprefix = get_by_id("lan_ipv6_ip_lan_ip").innerHTML;
						assign_prefix = tmpprefix.split("/");
						get_by_id("lanIPv6Cfg_Tunnel6rdLanAddress_1.1.1.0.0").value = assign_prefix[0];
						//alert(get_by_id("lanIPv6Cfg_Tunnel6rdLanAddress_1.1.1.0.0").value);
					}
					get_by_id("ipv66rdConn_TunnalRelayType_1.1.1.1.0").value = tunnel_relay_type;
					if(tunnel_relay_type == 0)
						get_by_id("ipv66rdConn_Tunnel6rdRelayV4Address_1.1.1.1.0").value = get_by_id("ipv6_6rd_relay").value;
					else	
						get_by_id("ipv66rdConn_Tunnel6rdRelayV4Domain_1.1.1.1.0").value = get_by_id("ipv6_6rd_relay").value;

				}
				get_by_id("lanIPv6Cfg_AutoV6AddressAssignEnable_1.1.1.0.0").value = "1";
				get_by_id("lanIPv6Cfg_AutoConfigurationType_1.1.1.0.0").value = "1";
				get_by_id("lanIPv6Cfg_AdvertisementLifetime_1.1.1.0.0").value = "1440";
				get_by_id("ipv66rdConn_PrimaryDNSAddress_1.1.1.1.0").value = get_by_id("ipv6_6rd_primary_dns").value;
				get_by_id("ipv66rdConn_SecondaryDNSAddress_1.1.1.1.0").value = get_by_id("ipv6_6rd_secondary_dns").value;
			}
		}
 }
	
	function ipv6_automatic_enable()
	{
		var disable = get_by_name("ipv6_automatic")[0].checked;		
		get_by_name("ipv6_6rd_dhcp")[0].disabled = disable;
		get_by_name("ipv6_6rd_dhcp")[1].disabled = disable;
		get_by_name("ipv6_6rd_dhcp")[2].disabled = disable;
		get_by_id("ipv6_6rd_prefix").disabled = disable;
		get_by_id("ipv6_6rd_prefix_length").disabled = disable;
		get_by_id("ipv6_6rd_ipv4_mask_length").disabled = disable;
		get_by_id("ipv6_6rd_relay").disabled = disable;
		get_by_id("ipv6_6rd_primary_dns").disabled = disable;
		get_by_id("ipv6_6rd_secondary_dns").disabled = disable;
		if(!disable)
			dhcp_option();
	}
	function dhcp_option(){ 
		var ipv6_6rd_dhcp = get_by_name("ipv6_6rd_dhcp");
		if(ipv6_6rd_dhcp[0].checked){
			get_by_id("ipv6_6rd_prefix").disabled = true;
			get_by_id("ipv6_6rd_prefix_length").disabled = true;
			get_by_id("ipv6_6rd_ipv4_mask_length").disabled = true;
			get_by_id("ipv6_6rd_relay").disabled = true;
			get_by_id("ipv6_6rd_primary_dns").disabled = true;
			get_by_id("ipv6_6rd_secondary_dns").disabled = true;
		}
		else{
			if(ipv6_6rd_dhcp[1].checked){

				get_by_id("ipv6_6rd_prefix").value = config_val('igdIPv6Status_V6rdPrefix_');
				get_by_id("ipv6_6rd_prefix_length").value = config_val('igdIPv6Status_V6rdPrefixLen_');
				get_by_id("ipv6_6rd_ipv4_mask_length").value = config_val('igdIPv6Status_V6rdMaskLen_');
				get_by_id("ipv6_6rd_relay").value = config_val('igdIPv6Status_BorderRelay_');
			
			}else{
				get_by_id("ipv6_6rd_prefix").value = config_val('ipv66rdConn_IPv6Prefix_');
				get_by_id("ipv6_6rd_prefix_length").value = config_val('ipv66rdConn_IPv6PrefixLength_');
				get_by_id("ipv6_6rd_ipv4_mask_length").value = config_val('ipv66rdConn_IPMaskLength_');
				if(tunnel_relay_type == "0")
					get_by_id("ipv6_6rd_relay").value = config_val("ipv66rdConn_Tunnel6rdRelayV4Address_");
				else
					get_by_id("ipv6_6rd_relay").value = config_val("ipv66rdConn_Tunnel6rdRelayV4Domain_");
			}
			ipv6_6rd_prefix_onchange();
			if(ipv6_6rd_dhcp[1].checked){
				get_by_id("ipv6_6rd_prefix").disabled = true;
				get_by_id("ipv6_6rd_prefix_length").disabled = true;
				get_by_id("ipv6_6rd_ipv4_mask_length").disabled = true;
				get_by_id("ipv6_6rd_relay").disabled = true;
				get_by_id("ipv6_6rd_primary_dns").disabled = false;
				get_by_id("ipv6_6rd_secondary_dns").disabled = false;
			
			}else{
				get_by_id("ipv6_6rd_prefix").disabled = false;
				get_by_id("ipv6_6rd_prefix_length").disabled = false;
				get_by_id("ipv6_6rd_ipv4_mask_length").disabled = false;
				get_by_id("ipv6_6rd_relay").disabled = false;
				get_by_id("ipv6_6rd_primary_dns").disabled = false;
				get_by_id("ipv6_6rd_secondary_dns").disabled = false;
			}
		}	
	}	
	
</script>
</head>

<body onLoad="MM_preloadImages('but_wizard_1.gif','but_status_1.gif','but_tools_1.gif','but_main_1.gif','but_wireless_1.gif','but_routing_1.gif','but_access_1.gif','but_management_1.gif')">
<table width="750" border="0" cellpadding="0" cellspacing="0">
  <tr>
    <td width="21"><img src="c1_tl.gif" width="21" height="21" /></td>
    <td width="708" background="bg1_t.gif"><img src="top_1.gif" width="390" height="21" /></td>
    <td width="21"><img src="c1_tr.gif" width="21" height="21" /></td>
  </tr>
  <tr>
    <td valign="top" background="bg1_l.gif"><img src="top_2.gif" width="21" height="69" /></td>
    <td background="bg.gif"><table width="100%" border="0" cellpadding="0" cellspacing="0">
      <tr>
        <td width="13%"><img src="logo.gif" /></td>
        <td width="87%" align="right"><img src="description.gif" /></td>
      </tr>
    </table>
        <table width="100%" border="0" cellpadding="0" cellspacing="0">
          <tr>
            <td width="20%" height="429" valign="top"><table width="56%" border="0" cellpadding="0" cellspacing="0">
              <tr>
                <td onclick="location.href='lan.htm'">
				<table class="menu_tb">
				<tr>
					<td class="menu_sel_nw"></td>
					<td class="menu_sel_n"></td>
					<td class="menu_sel_ne"></td>
				</tr>
				<tr>
					<td class="menu_sel_w"></td>
					<td class="menu_sel_m"><b>&nbsp;&nbsp;<script>show_words('_MSG749');</script></td>
					<td class="menu_sel_e"></td>
				</tr>
				<tr>
					<td class="menu_sel_sw"></td>
					<td class="menu_sel_s"></td>
					<td class="menu_sel_se"></td>
				</tr>
				</table>	
				</a></td>
              </tr>
              <tr>
                <td><table width="100%" border="0" cellpadding="2" class="submenubg">
                    <tr>
                      <td align="right"><font color="#FFFFFF">&bull;</font></td>
                      <td ><a href="lan.htm" class="submenus"><b><script>show_words('_LAN_DHCPSer')</script></b></a></td>
                    </tr>
                    <tr>
                      <td align="right"><font color="#FFFFFF">&bull;</font></td>
                      <td><a href="wan.htm" class="submenus"><b><script>show_words('_WAN')</script></b></a></td>
                    </tr>
                    <tr>
                      <td align="right"><font color="#FFFFFF">&bull;</font></td>
                      <td><a href="password.htm" class="submenus"><b><script>show_words('_Pwd')</script></b></a></td>
                    </tr>
                    <tr>
                      <td align="right"><font color="#FFFFFF">&bull;</font></td>
                      <td><a href="time.htm" class="submenus"><b><script>show_words('_Time')</script></b></a></td>
                    </tr>
                    <tr>
                      <td align="right"><font color="#FFFFFF">&bull;</font></td>
                      <td><a href="ddns.htm" class="submenus"><b><script>show_words('_dyndns')</script></b></a></td>
                    </tr>
                    <tr>
                      <td width="13%" align="right"><font color="#FFFFFF">&bull;</font></td>
                      <td width="87%"><a href="ipv6.htm" class="submenus"><b><u><script>show_words('_IPv6')</script></u></b></a></td>
                    </tr>
                </table></td>
              </tr>
              <tr>
                <td><img src="spacer.gif" width="8" height="8"></td>
              </tr>
              <tr>
                <td onclick="location.href='wireless_basic.htm'">
				<table class="menu_tb" onMouseOver="changeMenuClass(this, 'in');" onmouseout="changeMenuClass(this, 'out');">
				<tr>
					<td class="menu_nw"></td>
					<td class="menu_n"></td>
					<td class="menu_ne"></td>
				</tr>
				<tr>
					<td class="menu_w"></td>
					<td class="menu_m"><b>&nbsp;&nbsp;<script>show_words('_Wireless')</script></td>
					<td class="menu_e"></td>
				</tr>
				<tr>
					<td class="menu_sw"></td>
					<td class="menu_s"></td>
					<td class="menu_se"></td>
				</tr>
				</table>
				</td>
              </tr>
              <tr>
                <td><img src="spacer.gif" width="8" height="8"></td>
              </tr>
              <tr>
                <td onclick="location.href='status.htm'">
				<table class="menu_tb" onMouseOver="changeMenuClass(this, 'in');" onmouseout="changeMenuClass(this, 'out');">
				<tr>
					<td class="menu_nw"></td>
					<td class="menu_n"></td>
					<td class="menu_ne"></td>
				</tr>
				<tr>
					<td class="menu_w"></td>
					<td class="menu_m"><b>&nbsp;&nbsp;<script>show_words('_MSG748')</script></td>
					<td class="menu_e"></td>
				</tr>
				<tr>
					<td class="menu_sw"></td>
					<td class="menu_s"></td>
					<td class="menu_se"></td>
				</tr>
				</table>
				</td>
              </tr>
              <tr>
                <td><img src="spacer.gif" width="8" height="8"></td>
              </tr>
              <tr>
                <td onclick="location.href='static_routing.htm'">
				<table class="menu_tb" onMouseOver="changeMenuClass(this, 'in');" onmouseout="changeMenuClass(this, 'out');">
				<tr>
					<td class="menu_nw"></td>
					<td class="menu_n"></td>
					<td class="menu_ne"></td>
				</tr>
				<tr>
					<td class="menu_w"></td>
					<td class="menu_m"><b>&nbsp;&nbsp;<script>show_words('_MSG747')</script></td>
					<td class="menu_e"></td>
				</tr>
				<tr>
					<td class="menu_sw"></td>
					<td class="menu_s"></td>
					<td class="menu_se"></td>
				</tr>
				</table>
				</td>
              </tr>
              <tr>
                <td><img src="spacer.gif" width="8" height="8"></td>
              </tr>
              <tr>
                <td onclick="location.href='filters.htm'">
				<table class="menu_tb" onMouseOver="changeMenuClass(this, 'in');" onmouseout="changeMenuClass(this, 'out');">
				<tr>
					<td class="menu_nw"></td>
					<td class="menu_n"></td>
					<td class="menu_ne"></td>
				</tr>
				<tr>
					<td class="menu_w"></td>
					<td class="menu_m"><b>&nbsp;&nbsp;<script>show_words('_Access')</script></td>
					<td class="menu_e"></td>
				</tr>
				<tr>
					<td class="menu_sw"></td>
					<td class="menu_s"></td>
					<td class="menu_se"></td>
				</tr>
				</table>
				</td>
              </tr>
              <tr>
                <td><img src="spacer.gif" width="8" height="8"></td>
              </tr>
              <tr>
                <td onclick="location.href='snmp.htm'">
				<table class="menu_tb" onMouseOver="changeMenuClass(this, 'in');" onmouseout="changeMenuClass(this, 'out');">
				<tr>
					<td class="menu_nw"></td>
					<td class="menu_n"></td>
					<td class="menu_ne"></td>
				</tr>
				<tr>
					<td class="menu_w"></td>
					<td class="menu_m"><b>&nbsp;&nbsp;<script>show_words('_MSG746')</script></td>
					<td class="menu_e"></td>
				</tr>
				<tr>
					<td class="menu_sw"></td>
					<td class="menu_s"></td>
					<td class="menu_se"></td>
				</tr>
				</table>
				</td>
              </tr>
              <tr>
                <td><img src="spacer.gif" width="8" height="8"></td>
              </tr>
              <tr>
                <td onclick="location.href='restart.htm'">
				<table class="menu_tb" onMouseOver="changeMenuClass(this, 'in');" onmouseout="changeMenuClass(this, 'out');">
				<tr>
					<td class="menu_nw"></td>
					<td class="menu_n"></td>
					<td class="menu_ne"></td>
				</tr>
				<tr>
					<td class="menu_w"></td>
					<td class="menu_m"><b>&nbsp;&nbsp;<script>show_words('_Tools')</script></td>
					<td class="menu_e"></td>
				</tr>
				<tr>
					<td class="menu_sw"></td>
					<td class="menu_s"></td>
					<td class="menu_se"></td>
				</tr>
				</table>
				</td>
              </tr>
              <tr>
                <td><img src="spacer.gif" width="8" height="8"></td>
              </tr>
              <tr>
                <td onclick="show_wizard('wizard.htm',login_Info)">
				<table class="menu_tb" onMouseOver="changeMenuClass(this, 'in');" onmouseout="changeMenuClass(this, 'out');">
				<tr>
					<td class="menu_nw"></td>
					<td class="menu_n"></td>
					<td class="menu_ne"></td>
				</tr>
				<tr>
					<td class="menu_w"></td>
					<td class="menu_m"><b>&nbsp;&nbsp;<script>show_words('_Wizard')</script></td>
					<td class="menu_e"></td>
				</tr>
				<tr>
					<td class="menu_sw"></td>
					<td class="menu_s"></td>
					<td class="menu_se"></td>
				</tr>
				</table>
				</td>
              </tr>
              <tr>
                <td><img src="spacer.gif" width="15" height="15"></td>
              </tr>
            </table>
            <p>&nbsp;</p>
              <p>&nbsp;</p></td>
            <td width="2%"><img src="spacer.gif" width="15" height="15" /></td>
            <td width="78%" valign="top"><table width="98%" border="0" cellpadding="0" cellspacing="0" class="tabBigTitle">
                <tr>
                  <td class="headerbg2"><table width="100%" border="0" cellpadding="0" cellspacing="0" style="padding: 10px 0 10px 0">
                    <tr>
                      <td width="79%"><font color="#FFFFFF" class="textheader" style="margin-left:0; padding-left:0"><script>show_words('_IPv6')</script></font></td>
                      <td width="21%"><input name="button" type="button" id="help_btn" class="ButtonHelp" onclick="MM_openBrWindow('help_main.htm#main_ipv6','','scrollbars=yes,resizable=yes,width=800,height=550')" value="  " />
							<script>$('#help_btn').val(get_words('_Help'));</script>
                      </td>
                    </tr>
                  </table>                  </td>
                </tr>
                <tr>
                  <td valign="top">
				  <form id="form4" name="form4" method="post" action="get_set.ccp">
					<input type="hidden" name="ccp_act" value="del">
					<input type="hidden" name="ccpSubEvent" value="CCP_SUB_LAN_SC">
					<input type="hidden" name="nextPage" value="lan.htm">	
					<input type="hidden" name="num_inst" id="num_inst" value="1">
					<input type="hidden" name="oid_1" id="oid_1" value="IGD_LANDevice_i_LANHostConfigManagement_DHCPStaticAddress_i_">
					<input type="hidden" name="inst_1" id="inst_1" value="">
				  </form>
				  
				  <form id="form3" name="form3" method="post" action="get_set.ccp">
					<input type="hidden" name="ccp_act" value="set">
					<input type="hidden" name="ccpSubEvent" value="CCP_SUB_LAN_SC">
					<input type="hidden" name="nextPage" value="lan.htm">
					<span id="submit_items">
					</span>
				  </form>				  
					<form id="form2" name="form2" method="post" action="get_set.ccp">
					<input type="hidden" name="ccp_act" value="set">
					<input type="hidden" name="ccpSubEvent" value="CCP_SUB_IPV6">
					<input type="hidden" name="nextPage" value="ipv6.htm">
					<input type="hidden" name="wanIPv6ConnDev_CurrentConnObjType_1.1.1.0.0" id="wanIPv6ConnDev_CurrentConnObjType_1.1.1.0.0" value="">
					<input type="hidden" name="ipv6AutoConfConn_AutomaticDNSServer_1.1.1.1.0" id="ipv6AutoConfConn_AutomaticDNSServer_1.1.1.1.0" value="">
					<input type="hidden" name="lanIPv6Cfg_Tunnel6rdLanAddress_1.1.1.0.0" id="lanIPv6Cfg_Tunnel6rdLanAddress_1.1.1.0.0" value="">
					<input type="hidden" name="lanIPv6Cfg_DHCPPDEnable_1.1.1.0.0" id="lanIPv6Cfg_DHCPPDEnable_1.1.1.0.0" value="">
					<input type="hidden" name="lanIPv6Cfg_AutoConfigurationLanAddress_1.1.1.0.0" id="lanIPv6Cfg_AutoConfigurationLanAddress_1.1.1.0.0" value="">
					<input type="hidden" name="lanIPv6Cfg_IPv6LinkLocalAddress_1.1.1.0.0" id="lanIPv6Cfg_IPv6LinkLocalAddress_1.1.1.0.0" value="">
					<input type="hidden" name="lanIPv6Cfg_AutoV6AddressAssignEnable_1.1.1.0.0" id="lanIPv6Cfg_AutoV6AddressAssignEnable_1.1.1.0.0" value="">
					<input type="hidden" name="lanIPv6Cfg_AutoConfigurationType_1.1.1.0.0" id="lanIPv6Cfg_AutoConfigurationType_1.1.1.0.0" value="">
					<input type="hidden" name="lanIPv6Cfg_AdvertisementLifetime_1.1.1.0.0" id="lanIPv6Cfg_AdvertisementLifetime_1.1.1.0.0" value="">
					<input type="hidden" name="ipv66rdConn_ConfigurationType_1.1.1.1.0" id="ipv66rdConn_ConfigurationType_1.1.1.1.0" value="">
					<input type="hidden" name="ipv66rdConn_IPv6Prefix_1.1.1.1.0" id="ipv66rdConn_IPv6Prefix_1.1.1.1.0" value="">
					<input type="hidden" name="ipv66rdConn_IPv6PrefixLength_1.1.1.1.0" id="ipv66rdConn_IPv6PrefixLength_1.1.1.1.0" value="">
					<input type="hidden" name="ipv66rdConn_IPMaskLength_1.1.1.1.0" id="ipv66rdConn_IPMaskLength_1.1.1.1.0" value="">
					<input type="hidden" name="ipv66rdConn_AssignedIPv6Prefix_1.1.1.1.0" id="ipv66rdConn_AssignedIPv6Prefix_1.1.1.1.0" value="">
					<input type="hidden" name="ipv66rdConn_TunnelLinkLocalPrefix_1.1.1.1.0" id="ipv66rdConn_TunnelLinkLocalPrefix_1.1.1.1.0" value="">
					<input type="hidden" name="ipv66rdConn_PrimaryDNSAddress_1.1.1.1.0" id="ipv66rdConn_PrimaryDNSAddress_1.1.1.1.0" value="">
					<input type="hidden" name="ipv66rdConn_SecondaryDNSAddress_1.1.1.1.0" id="ipv66rdConn_SecondaryDNSAddress_1.1.1.1.0" value="">
					<input type="hidden" name="ipv66rdConn_TunnalRelayType_1.1.1.1.0" id="ipv66rdConn_TunnalRelayType_1.1.1.1.0" value="">
					<input type="hidden" name="ipv66rdConn_Tunnel6rdRelayV4Address_1.1.1.1.0" id="ipv66rdConn_Tunnel6rdRelayV4Address_1.1.1.1.0" value="">
					<input type="hidden" name="ipv66rdConn_Tunnel6rdRelayV4Domain_1.1.1.1.0" id="ipv66rdConn_Tunnel6rdRelayV4Domain_1.1.1.1.0" value="">
					<input type="hidden" name="igdULASetup_ULAEnable_1.1.0.0.0" id="igdULASetup_ULAEnable_1.1.0.0.0" value="">
					</form>
					
					<form id="form1" name="form1" method="post" action="apply.cgi">
                    <input type="hidden" name="html_response_page" value="back.htm">
                    <input type="hidden" name="html_response_message" value="The setting is saved.">
                    <input type="hidden" name="html_response_return_page" value="ipv6.htm">
					<input type="hidden" id="dhcpd_last_assign_ip" name="dhcpd_last_assign_ip">
                    <input type="hidden" id="dhcpd_lease_time" name="dhcpd_lease_time" value='<% CmoGetCfg("dhcpd_lease_time","none"); %>'>
                    <input type="hidden" id="dhcp_list" name="dhcp_list" value='<% CmoGetList("dhcpd_leased_table"); %>'>
                    <input type="hidden" id="reboot_type" name="reboot_type" value="lan">
      				<input type="hidden" id="del" name="del" value="-1">
	   				<input type="hidden" id="edit" name="edit" value="-1">
	   				<input type="hidden" id="max_row" name="max_row" value="-1">	   			
					<input type="hidden" id="dhcpd_reserve_00" name="dhcpd_reserve_00" value='<% CmoGetCfg("dhcpd_reserve_00","none"); %>'>				
					<input type="hidden" id="dhcpd_reserve_01" name="dhcpd_reserve_01" value='<% CmoGetCfg("dhcpd_reserve_01","none"); %>'>
					<input type="hidden" id="dhcpd_reserve_02" name="dhcpd_reserve_02" value='<% CmoGetCfg("dhcpd_reserve_02","none"); %>'>		
					<input type="hidden" id="dhcpd_reserve_03" name="dhcpd_reserve_03" value='<% CmoGetCfg("dhcpd_reserve_03","none"); %>'>				
					<input type="hidden" id="dhcpd_reserve_04" name="dhcpd_reserve_04" value='<% CmoGetCfg("dhcpd_reserve_04","none"); %>'>
					<input type="hidden" id="dhcpd_reserve_05" name="dhcpd_reserve_05" value='<% CmoGetCfg("dhcpd_reserve_05","none"); %>'>
					<input type="hidden" id="dhcpd_reserve_06" name="dhcpd_reserve_06" value='<% CmoGetCfg("dhcpd_reserve_06","none"); %>'>				
					<input type="hidden" id="dhcpd_reserve_07" name="dhcpd_reserve_07" value='<% CmoGetCfg("dhcpd_reserve_07","none"); %>'>
					<input type="hidden" id="dhcpd_reserve_08" name="dhcpd_reserve_08" value='<% CmoGetCfg("dhcpd_reserve_08","none"); %>'>	
					<input type="hidden" id="dhcpd_reserve_09" name="dhcpd_reserve_09" value='<% CmoGetCfg("dhcpd_reserve_09","none"); %>'>
					<input type="hidden" id="dhcpd_reserve_10" name="dhcpd_reserve_10" value='<% CmoGetCfg("dhcpd_reserve_10","none"); %>'>				
					<input type="hidden" id="dhcpd_reserve_11" name="dhcpd_reserve_11" value='<% CmoGetCfg("dhcpd_reserve_11","none"); %>'>
					<input type="hidden" id="dhcpd_reserve_12" name="dhcpd_reserve_12" value='<% CmoGetCfg("dhcpd_reserve_12","none"); %>'>		
					<input type="hidden" id="dhcpd_reserve_13" name="dhcpd_reserve_13" value='<% CmoGetCfg("dhcpd_reserve_13","none"); %>'>				
					<input type="hidden" id="dhcpd_reserve_14" name="dhcpd_reserve_14" value='<% CmoGetCfg("dhcpd_reserve_14","none"); %>'>
					<input type="hidden" id="dhcpd_reserve_15" name="dhcpd_reserve_15" value='<% CmoGetCfg("dhcpd_reserve_15","none"); %>'>
					<input type="hidden" id="dhcpd_reserve_16" name="dhcpd_reserve_16" value='<% CmoGetCfg("dhcpd_reserve_16","none"); %>'>				
					<input type="hidden" id="dhcpd_reserve_17" name="dhcpd_reserve_17" value='<% CmoGetCfg("dhcpd_reserve_17","none"); %>'>
					<input type="hidden" id="dhcpd_reserve_18" name="dhcpd_reserve_18" value='<% CmoGetCfg("dhcpd_reserve_18","none"); %>'>	
					<input type="hidden" id="dhcpd_reserve_19" name="dhcpd_reserve_19" value='<% CmoGetCfg("dhcpd_reserve_19","none"); %>'>
					<input type="hidden" id="dhcpd_reserve_20" name="dhcpd_reserve_20" value='<% CmoGetCfg("dhcpd_reserve_20","none"); %>'>
					<input type="hidden" id="dhcpd_reserve_21" name="dhcpd_reserve_21" value='<% CmoGetCfg("dhcpd_reserve_21","none"); %>'>				
					<input type="hidden" id="dhcpd_reserve_22" name="dhcpd_reserve_22" value='<% CmoGetCfg("dhcpd_reserve_22","none"); %>'>
					<input type="hidden" id="dhcpd_reserve_23" name="dhcpd_reserve_23" value='<% CmoGetCfg("dhcpd_reserve_23","none"); %>'>	
					<input type="hidden" id="dhcpd_reserve_24" name="dhcpd_reserve_24" value='<% CmoGetCfg("dhcpd_reserve_24","none"); %>'>	                    



                    <table width="98%" border="0" align="center" cellpadding="3" cellspacing="1" bgcolor="#333333">
					  <tr style="display:none">
                        <td align="right" class="bgblue">Device Mode </td>
                        <td width="404"  class="bggrey">
						<input type="hidden" id="device_mode" name="device_mode" value="">
						<input type="radio" name="d_mode" value="0" onClick="set_device_mode()" checked>Router Mode&nbsp;&nbsp;
						<input type="radio" name="d_mode" value="1" onClick="set_device_mode()">AP Mode&nbsp;&nbsp;
						<span id="lan_ipv6_ip_lan_ip"></span>
                        </td>
                      </tr>
                      <tr>
                        <td align="right" class="bgblue"><script>show_words('_IPv6Auto')</script></td>
                        <td width="404"  class="bggrey">
						  <input type="hidden" id="dhcpd_enable" name="dhcpd_enable" value="">
                          <input type="radio" name="ipv6_automatic" value="1" onClick="ipv6_automatic_enable()">
                          <script>show_words('_Enabled')</script>&nbsp;&nbsp;&nbsp;
                          <input type="radio" name="ipv6_automatic" value="0" onClick="ipv6_automatic_enable()">
                          <script>show_words('_Disabled')</script></td>
                      </tr>
					</table>
					<div style="display:" id="ipv6rdTunnel">
						<table width="98%" border="0" cellpadding="5" cellspacing="1">
                  		<tr>
                      		<td align="left"><b><font color="#FFFFFF"><script>show_words('_6rdTunnel')</script></font></b></td>
				  		</tr>
				  	</table>
					<table id="table1" width="98%" align="center" cellpadding="3" cellspacing="1" bgcolor="#333333">
                      <tr>
                        <td align="right" class="bgblue"><script>show_words('_6rdConfig')</script></td>
                        <td width="404"  class="bggrey">
						  <input type="hidden" id="ipv6_6rd_mode" name="ipv6_6rd_mode" value="">
						  <input type="radio" name="ipv6_6rd_dhcp" value="2" onClick="dhcp_option()">
                          <script>show_words('_Disabled')</script>&nbsp;&nbsp;&nbsp;
                          <input type="radio" name="ipv6_6rd_dhcp" value="0" onClick="dhcp_option()">
                          <script>show_words('_6rdDhcpv4')</script>&nbsp;&nbsp;&nbsp;
                          <input type="radio" name="ipv6_6rd_dhcp" value="1" onClick="dhcp_option()">
                          <script>show_words('_6rdMaunal')</script></td>
                      </tr>
                      <tr>
                      <td align="right" class="bgblue"><script>show_words('_6rdIPv6Prefix')</script></td>
					  <td width="404" bgcolor="#FFFFFF" class="bggrey">
                      	<input type=text id="ipv6_6rd_prefix" name="ipv6_6rd_prefix" size="20" maxlength="32"  onchange="ipv6_6rd_prefix_onchange();">/
						<input type=text id="ipv6_6rd_prefix_length" name="ipv6_6rd_prefix_length" value=0 maxLength=2 size=5 onchange="ipv6_6rd_prefix_onchange();"></td>					  
                      </tr>
                      <tr>
                      <td align="right" class="bgblue"><script>show_words('_v4Addr')</script></td>
					  <td width="404" bgcolor="#FFFFFF" class="bggrey">
                      	<b><span id="wan_ip"></span></b></td>					  
                      </tr>
                      <tr>
                      <td align="right" class="bgblue"><script>show_words('_MaskLength')</script></td>
					  <td width="404" bgcolor="#FFFFFF" class="bggrey">
                      	<input type=text id="ipv6_6rd_ipv4_mask_length" name="ipv6_6rd_ipv4_mask_length" value=0 maxLength=2 size=5 onchange="ipv6_6rd_prefix_onchange();"></td>					  
                      </tr>
                      <tr>
                      <td align="right" class="bgblue"><script>show_words('_6rdPrefix')</script></td>
					  <td width="404" bgcolor="#FFFFFF" class="bggrey">
                      	<b><span id="ipv6_6rd_assigned_prefix"></span></b></td>					  
                      </tr>
                      <tr>
                      <td align="right" class="bgblue"><script>show_words('_TunnelAddress')</script></td>
					  <td width="404" bgcolor="#FFFFFF" class="bggrey">
                      	<b><span id="ipv6_6rd_addr"></span></b></td>					  
                      </tr>
                      <tr>
                      <td align="right" class="bgblue"><script>show_words('_6rdRelayv4Addr')</script></td>
					  <td width="404" bgcolor="#FFFFFF" class="bggrey">
                      	<input type=text id="ipv6_6rd_relay" name="ipv6_6rd_relay" size="20" maxlength="32"></td>					  
                      </tr>
                      <tr>
                      <td align="right" class="bgblue"><script>show_words('_v6dns1')</script></td>
					  <td width="404" bgcolor="#FFFFFF" class="bggrey">
                      	<input type=text id="ipv6_6rd_primary_dns" name="ipv6_6rd_primary_dns" size="20" maxlength="32"></td>					  
                      </tr>
                      <tr>
                      <td align="right" class="bgblue"><script>show_words('_v6dns2')</script></td>
					  <td width="404" bgcolor="#FFFFFF" class="bggrey">
                      	<input type=text id="ipv6_6rd_secondary_dns" name="ipv6_6rd_secondary_dns" size="20" maxlength="32"></td>					  
                      </tr>		
                      <tr>
                        <td class="bgblue">&nbsp;</td>
                        <td class="bggrey2"><input name="cancel" type="button" class="ButtonSmall" id="cancel" onClick="window.location='ipv6.htm'" value="">
								<script>$('#cancel').val(get_words('_Cancel'));</script>
                        <input name="apply" type="button" class="ButtonSmall" id="apply" onClick="send_request()" value="">                        
							<script>$('#apply').val(get_words('_Apply'));</script>
							</td>
                      </tr>					  
                    </table>
				</div>
            </form>
			<br></td>
                </tr>
            </table></td>
          </tr>
      </table></td>
    <td background="bg1_r.gif">&nbsp;</td>
  </tr>
  <tr>
    <td><img src="c1_bl.gif" width="21" height="20" /></td>
    <td align="right" background="bg1_b.gif"><img src="copyright.png" width="264" height="20" /></td>
    <td><img src="c1_br.gif" width="21" height="20" /></td>
  </tr>
</table>
<script>
    loadSettings();
	//disable_dhcp_server();
	//disable_static_dhcp();
	//set_device_mode();
	var login_who=login_Info;
    if(login_who != "w")
    {
        get_by_id("cancel").disabled = "true";
        get_by_id("apply").disabled = "true";
      //  get_by_id("add").disabled = "true";
       // get_by_id("cancel2").disabled = "true";
    }
</script>
</body>
</html>

